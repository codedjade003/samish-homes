<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Samish Homes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles that can't be easily done with Tailwind */
        .gradient-bg {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
        }
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .sidebar {
            transition: all 0.3s ease;
        }
        .sidebar-closed {
            transform: translateX(-100%);
        }
        .chart-container {
            position: relative;
            height: 300px;
        }
        @media (min-width: 768px) {
            .sidebar-closed {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Authentication Modal -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4">
            <div class="flex justify-between items-center border-b px-6 py-4">
                <h3 id="authTitle" class="text-xl font-semibold text-gray-800">Login</h3>
                <button onclick="closeAuthModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="authForms" class="p-6">
                <!-- Login Form -->
                <form id="loginForm" class="space-y-4">
                    <div>
                        <label for="loginEmail" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="loginEmail" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="loginPassword" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="loginPassword" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input id="rememberMe" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                            <label for="rememberMe" class="ml-2 block text-sm text-gray-700">Remember me</label>
                        </div>
                        <a href="#" onclick="showForgotPassword()" class="text-sm text-blue-600 hover:text-blue-500">Forgot password?</a>
                    </div>
                    <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Sign in
                    </button>
                    <div class="text-center text-sm text-gray-600">
                        Don't have an account? <a href="#" onclick="showRegister()" class="font-medium text-blue-600 hover:text-blue-500">Register</a>
                    </div>
                </form>

                <!-- Register Form -->
                <form id="registerForm" class="space-y-4 hidden">
                    <div>
                        <label for="registerName" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="registerName" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="registerEmail" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="registerEmail" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="registerPhone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                        <input type="tel" id="registerPhone" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="registerPassword" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="registerPassword" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="registerConfirmPassword" class="block text-sm font-medium text-gray-700">Confirm Password</label>
                        <input type="password" id="registerConfirmPassword" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Register
                    </button>
                    <div class="text-center text-sm text-gray-600">
                        Already have an account? <a href="#" onclick="showLogin()" class="font-medium text-blue-600 hover:text-blue-500">Sign in</a>
                    </div>
                </form>

                <!-- Forgot Password Form -->
                <form id="forgotPasswordForm" class="space-y-4 hidden">
                    <p class="text-sm text-gray-600">Enter your email address and we'll send you a link to reset your password.</p>
                    <div>
                        <label for="forgotEmail" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="forgotEmail" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Reset Password
                    </button>
                    <div class="text-center text-sm text-gray-600">
                        Remember your password? <a href="#" onclick="showLogin()" class="font-medium text-blue-600 hover:text-blue-500">Sign in</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" class="min-h-screen hidden">
        <!-- Mobile Header -->
        <header class="bg-white shadow-sm md:hidden">
            <div class="flex items-center justify-between px-4 py-3">
                <button onclick="toggleSidebar()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <h1 class="text-xl font-bold text-blue-800">Samish Homes</h1>
                <div class="flex items-center space-x-4">
                    <button id="notificationBtn" class="text-gray-500 hover:text-gray-700 relative">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"></span>
                    </button>
                    <button id="profileBtn" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-user-circle text-xl"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Desktop Header -->
        <header class="bg-white shadow-sm hidden md:block">
            <div class="flex items-center justify-between px-6 py-3">
                <h1 class="text-2xl font-bold text-blue-800">Samish Homes</h1>
                <div class="flex items-center space-x-6">
                    <button id="desktopNotificationBtn" class="text-gray-500 hover:text-gray-700 relative">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"></span>
                    </button>
                    <div id="profileDropdownBtn" class="flex items-center space-x-2 cursor-pointer">
                        <img src="https://via.placeholder.com/40" alt="Profile" class="w-8 h-8 rounded-full">
                        <span id="userNameDisplay" class="font-medium">John Doe</span>
                        <i class="fas fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Profile Dropdown (Desktop) -->
        <div id="profileDropdown" class="absolute right-6 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden">
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
            <a href="#" onclick="logout()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sign out</a>
        </div>

        <!-- Mobile Sidebar -->
        <div id="mobileSidebar" class="fixed inset-y-0 left-0 z-40 w-64 bg-blue-800 text-white transform -translate-x-full md:hidden sidebar">
            <div class="flex items-center justify-between px-4 py-3 border-b border-blue-700">
                <h2 class="text-xl font-semibold">Menu</h2>
                <button onclick="toggleSidebar()" class="text-white hover:text-blue-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav id="mobileNav" class="mt-4">
                <!-- Navigation items will be populated by JavaScript -->
            </nav>
        </div>

        <!-- Desktop Sidebar -->
        <div class="hidden md:flex md:flex-shrink-0">
            <div class="flex flex-col w-64 bg-blue-800 text-white">
                <div class="flex items-center h-16 px-4 border-b border-blue-700">
                    <h2 class="text-xl font-semibold">Samish Homes</h2>
                </div>
                <nav id="desktopNav" class="flex-1 overflow-y-auto">
                    <!-- Navigation items will be populated by JavaScript -->
                </nav>
                <div class="p-4 border-t border-blue-700">
                    <div class="flex items-center">
                        <img src="https://via.placeholder.com/40" alt="Profile" class="w-8 h-8 rounded-full">
                        <div class="ml-3">
                            <p id="sidebarUserName" class="text-sm font-medium">John Doe</p>
                            <p id="sidebarUserRole" class="text-xs text-blue-200">Admin</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main id="mainContent" class="flex-1 overflow-auto">
            <!-- Content will be loaded dynamically based on user role -->
        </main>
    </div>

    <!-- Landing Page (Visible when not logged in) -->
    <div id="landingPage" class="min-h-screen">
        <!-- Navigation -->
        <nav class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <div class="flex-shrink-0 flex items-center">
                            <span class="text-xl font-bold text-blue-800">Samish Homes</span>
                        </div>
                    </div>
                    <div class="hidden md:ml-6 md:flex md:items-center md:space-x-8">
                        <a href="#" class="text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 border-blue-500 text-sm font-medium">Home</a>
                        <a href="#" class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-gray-300 text-sm font-medium">Properties</a>
                        <a href="#" class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-gray-300 text-sm font-medium">Agents</a>
                        <a href="#" class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-gray-300 text-sm font-medium">About</a>
                        <a href="#" class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-gray-300 text-sm font-medium">Contact</a>
                        <button onclick="showAuthModal('login')" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Sign In
                        </button>
                    </div>
                    <div class="-mr-2 flex items-center md:hidden">
                        <button onclick="toggleMobileMenu()" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                            <span class="sr-only">Open main menu</span>
                            <i class="fas fa-bars"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mobile menu -->
            <div id="mobileMenu" class="hidden md:hidden">
                <div class="pt-2 pb-3 space-y-1">
                    <a href="#" class="bg-blue-50 border-blue-500 text-blue-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Home</a>
                    <a href="#" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Properties</a>
                    <a href="#" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Agents</a>
                    <a href="#" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">About</a>
                    <a href="#" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Contact</a>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <button onclick="showAuthModal('login')" class="w-full flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Sign In
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <div class="gradient-bg text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
                <div class="md:flex md:items-center md:justify-between">
                    <div class="md:w-1/2">
                        <h1 class="text-4xl md:text-5xl font-bold leading-tight">Find Your Dream Home With Samish Homes</h1>
                        <p class="mt-4 text-lg md:text-xl">Discover the perfect property that matches your lifestyle and budget.</p>
                        <div class="mt-8">
                            <button onclick="showAuthModal('register')" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-600 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white">
                                Get Started
                            </button>
                        </div>
                    </div>
                    <div class="mt-8 md:mt-0 md:w-1/2">
                        <img src="https://via.placeholder.com/600x400" alt="Modern House" class="rounded-lg shadow-xl">
                    </div>
                </div>
            </div>
        </div>

        <!-- Featured Properties -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Featured Properties</h2>
                <p class="mt-2 text-lg text-gray-600">Browse our selection of premium properties</p>
            </div>
            <div class="mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
                <!-- Property Card 1 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden property-card transition duration-300">
                    <div class="relative">
                        <img src="https://via.placeholder.com/400x300" alt="Property" class="w-full h-48 object-cover">
                        <div class="absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">
                            For Sale
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-gray-900">Modern Villa in Beverly Hills</h3>
                        <p class="mt-1 text-gray-600">Beverly Hills, CA</p>
                        <div class="mt-2 flex items-center">
                            <i class="fas fa-bed text-blue-500 mr-1"></i>
                            <span class="text-sm text-gray-600 mr-3">4 Beds</span>
                            <i class="fas fa-bath text-blue-500 mr-1"></i>
                            <span class="text-sm text-gray-600">3 Baths</span>
                        </div>
                        <div class="mt-3 flex justify-between items-center">
                            <span class="text-lg font-bold text-gray-900">$1,250,000</span>
                            <button class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Property Card 2 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden property-card transition duration-300">
                    <div class="relative">
                        <img src="https://via.placeholder.com/400x300" alt="Property" class="w-full h-48 object-cover">
                        <div class="absolute top-2 right-2 bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">
                            For Rent
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-gray-900">Luxury Apartment Downtown</h3>
                        <p class="mt-1 text-gray-600">New York, NY</p>
                        <div class="mt-2 flex items-center">
                            <i class="fas fa-bed text-blue-500 mr-1"></i>
                            <span class="text-sm text-gray-600 mr-3">2 Beds</span>
                            <i class="fas fa-bath text-blue-500 mr-1"></i>
                            <span class="text-sm text-gray-600">2 Baths</span>
                        </div>
                        <div class="mt-3 flex justify-between items-center">
                            <span class="text-lg font-bold text-gray-900">$3,500/mo</span>
                            <button class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Property Card 3 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden property-card transition duration-300">
                    <div class="relative">
                        <img src="https://via.placeholder.com/400x300" alt="Property" class="w-full h-48 object-cover">
                        <div class="absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">
                            For Sale
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-gray-900">Waterfront Family Home</h3>
                        <p class="mt-1 text-gray-600">Miami, FL</p>
                        <div class="mt-2 flex items-center">
                            <i class="fas fa-bed text-blue-500 mr-1"></i>
                            <span class="text-sm text-gray-600 mr-3">5 Beds</span>
                            <i class="fas fa-bath text-blue-500 mr-1"></i>
                            <span class="text-sm text-gray-600">4 Baths</span>
                        </div>
                        <div class="mt-3 flex justify-between items-center">
                            <span class="text-lg font-bold text-gray-900">$2,750,000</span>
                            <button class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <button onclick="showAuthModal('register')" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    View All Properties
                </button>
            </div>
        </div>

        <!-- Why Choose Us -->
        <div class="bg-gray-50 py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-gray-900">Why Choose Samish Homes?</h2>
                    <p class="mt-2 text-lg text-gray-600">We provide exceptional service and expertise</p>
                </div>
                <div class="mt-10 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4">
                    <div class="text-center">
                        <div class="flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mx-auto">
                            <i class="fas fa-home text-xl"></i>
                        </div>
                        <h3 class="mt-4 text-lg font-medium text-gray-900">Extensive Property Listings</h3>
                        <p class="mt-2 text-base text-gray-600">Access to thousands of properties across the country.</p>
                    </div>
                    <div class="text-center">
                        <div class="flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mx-auto">
                            <i class="fas fa-user-tie text-xl"></i>
                        </div>
                        <h3 class="mt-4 text-lg font-medium text-gray-900">Expert Agents</h3>
                        <p class="mt-2 text-base text-gray-600">Our experienced agents will guide you through every step.</p>
                    </div>
                    <div class="text-center">
                        <div class="flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mx-auto">
                            <i class="fas fa-hand-holding-usd text-xl"></i>
                        </div>
                        <h3 class="mt-4 text-lg font-medium text-gray-900">Affordable Options</h3>
                        <p class="mt-2 text-base text-gray-600">Properties to fit every budget and lifestyle.</p>
                    </div>
                    <div class="text-center">
                        <div class="flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mx-auto">
                            <i class="fas fa-shield-alt text-xl"></i>
                        </div>
                        <h3 class="mt-4 text-lg font-medium text-gray-900">Secure Transactions</h3>
                        <p class="mt-2 text-base text-gray-600">Safe and secure property transactions with legal support.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testimonials -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">What Our Clients Say</h2>
                <p class="mt-2 text-lg text-gray-600">Hear from people who found their dream home with us</p>
            </div>
            <div class="mt-10 grid grid-cols-1 gap-8 md:grid-cols-3">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center">
                        <img src="https://via.placeholder.com/50" alt="Client" class="w-12 h-12 rounded-full">
                        <div class="ml-4">
                            <h4 class="text-lg font-medium text-gray-900">Sarah Johnson</h4>
                            <p class="text-blue-600">Homeowner</p>
                        </div>
                    </div>
                    <p class="mt-4 text-gray-600">"The team at Samish Homes made the entire process so smooth. They found me the perfect home within my budget and handled all the paperwork."</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center">
                        <img src="https://via.placeholder.com/50" alt="Client" class="w-12 h-12 rounded-full">
                        <div class="ml-4">
                            <h4 class="text-lg font-medium text-gray-900">Michael Chen</h4>
                            <p class="text-blue-600">Investor</p>
                        </div>
                    </div>
                    <p class="mt-4 text-gray-600">"As a real estate investor, I rely on Samish Homes for their market knowledge and negotiation skills. They've helped me build an impressive portfolio."</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center">
                        <img src="https://via.placeholder.com/50" alt="Client" class="w-12 h-12 rounded-full">
                        <div class="ml-4">
                            <h4 class="text-lg font-medium text-gray-900">Emily Rodriguez</h4>
                            <p class="text-blue-600">First-time Buyer</p>
                        </div>
                    </div>
                    <p class="mt-4 text-gray-600">"Being a first-time homebuyer was overwhelming, but my agent explained everything clearly and found properties that matched exactly what I wanted."</p>
                </div>
            </div>
        </div>

        <!-- Call to Action -->
        <div class="gradient-bg text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center">
                <h2 class="text-3xl font-bold">Ready to Find Your Dream Home?</h2>
                <p class="mt-4 text-xl">Join thousands of satisfied clients who found their perfect property with Samish Homes.</p>
                <div class="mt-8">
                    <button onclick="showAuthModal('register')" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-600 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white">
                        Get Started
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Samish Homes</h3>
                        <p class="text-gray-400">Your trusted partner in finding the perfect property for your needs and budget.</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                        <ul class="space-y-2">
                            <li><a href="#" class="text-gray-400 hover:text-white">Home</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Properties</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Agents</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">About Us</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Contact</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Services</h3>
                        <ul class="space-y-2">
                            <li><a href="#" class="text-gray-400 hover:text-white">Buy a Home</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Sell a Home</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Rent a Property</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Property Management</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white">Investment Properties</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                        <address class="not-italic text-gray-400">
                            <p>123 Real Estate Ave</p>
                            <p>Samish, WA 98221</p>
                            <p class="mt-2">Phone: (555) 123-4567</p>
                            <p>Email: info@samishhomes.com</p>
                        </address>
                        <div class="mt-4 flex space-x-4">
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
                <div class="mt-12 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm">
                    <p>&copy; 2023 Samish Homes. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Database simulation (will be replaced with backend in production)
        const usersDB = [
            { id: 1, name: "Admin User", email: "Admin@example.com", password: "Admin123", role: "admin", phone: "555-0101", createdAt: new Date() },
            { id: 2, name: "Agent User", email: "Agent@example.com", password: "Agent123", role: "agent", phone: "555-0102", createdAt: new Date(), sales: 12, revenue: 1250000, target: 1500000 },
            { id: 3, name: "Public User", email: "Public@example.com", password: "Public123", role: "public", phone: "555-0103", createdAt: new Date() }
        ];

        const propertiesDB = [
            { id: 1, title: "Modern Villa in Beverly Hills", location: "Beverly Hills, CA", price: 1250000, type: "sale", beds: 4, baths: 3, sqft: 3200, image: "https://via.placeholder.com/400x300", featured: true },
            { id: 2, title: "Luxury Apartment Downtown", location: "New York, NY", price: 3500, type: "rent", beds: 2, baths: 2, sqft: 1200, image: "https://via.placeholder.com/400x300", featured: true },
            { id: 3, title: "Waterfront Family Home", location: "Miami, FL", price: 2750000, type: "sale", beds: 5, baths: 4, sqft: 4500, image: "https://via.placeholder.com/400x300", featured: true },
            { id: 4, title: "Cozy Suburban House", location: "Seattle, WA", price: 850000, type: "sale", beds: 3, baths: 2, sqft: 1800, image: "https://via.placeholder.com/400x300", featured: false },
            { id: 5, title: "Downtown Loft", location: "Chicago, IL", price: 2800, type: "rent", beds: 1, baths: 1, sqft: 900, image: "https://via.placeholder.com/400x300", featured: false },
            { id: 6, title: "Mountain Retreat", location: "Aspen, CO", price: 1950000, type: "sale", beds: 4, baths: 3, sqft: 2800, image: "https://via.placeholder.com/400x300", featured: false }
        ];

        const leadsDB = [
            { id: 1, name: "John Smith", email: "john@example.com", phone: "555-0201", propertyId: 1, status: "contacted", agentId: 2, date: new Date() },
            { id: 2, name: "Emily Davis", email: "emily@example.com", phone: "555-0202", propertyId: 3, status: "interested", agentId: 2, date: new Date() },
            { id: 3, name: "Robert Johnson", email: "robert@example.com", phone: "555-0203", propertyId: 2, status: "viewing scheduled", agentId: 2, date: new Date() }
        ];

        const paymentsDB = [
            { id: 1, clientId: 3, propertyId: 4, amount: 50000, date: new Date(), status: "partial", agentId: 2 },
            { id: 2, clientId: 3, propertyId: 4, amount: 50000, date: new Date(Date.now() + 86400000), status: "pending", agentId: 2 }
        ];

        // State management
        let currentUser = null;
        let mobileMenuOpen = false;
        let mobileSidebarOpen = false;
        let profileDropdownOpen = false;

        // DOM Elements
        const authModal = document.getElementById('authModal');
        const authTitle = document.getElementById('authTitle');
        const authForms = document.getElementById('authForms');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const forgotPasswordForm = document.getElementById('forgotPasswordForm');
        const landingPage = document.getElementById('landingPage');
        const appContainer = document.getElementById('appContainer');
        const mainContent = document.getElementById('mainContent');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileSidebar = document.getElementById('mobileSidebar');
        const mobileNav = document.getElementById('mobileNav');
        const desktopNav = document.getElementById('desktopNav');
        const profileDropdown = document.getElementById('profileDropdown');
        const profileDropdownBtn = document.getElementById('profileDropdownBtn');
        const userNameDisplay = document.getElementById('userNameDisplay');
        const sidebarUserName = document.getElementById('sidebarUserName');
        const sidebarUserRole = document.getElementById('sidebarUserRole');

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Check if user is already logged in (simulating session)
            const loggedInUser = localStorage.getItem('currentUser');
            if (loggedInUser) {
                currentUser = JSON.parse(loggedInUser);
                initializeApp();
            }

            // Form submissions
            loginForm.addEventListener('submit', handleLogin);
            registerForm.addEventListener('submit', handleRegister);
            forgotPasswordForm.addEventListener('submit', handleForgotPassword);

            // Profile dropdown
            profileDropdownBtn.addEventListener('click', toggleProfileDropdown);

            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!profileDropdown.contains(e.target) && !profileDropdownBtn.contains(e.target)) {
                    profileDropdownOpen = false;
                    profileDropdown.classList.add('hidden');
                }
            });
        });

        // Auth Modal Functions
        function showAuthModal(formType) {
            authModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            
            // Show the requested form
            loginForm.classList.add('hidden');
            registerForm.classList.add('hidden');
            forgotPasswordForm.classList.add('hidden');
            
            if (formType === 'login') {
                authTitle.textContent = 'Sign In';
                loginForm.classList.remove('hidden');
            } else if (formType === 'register') {
                authTitle.textContent = 'Create Account';
                registerForm.classList.remove('hidden');
            } else if (formType === 'forgot') {
                authTitle.textContent = 'Reset Password';
                forgotPasswordForm.classList.remove('hidden');
            }
        }

        function closeAuthModal() {
            authModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        }

        function showLogin() {
            loginForm.classList.remove('hidden');
            registerForm.classList.add('hidden');
            forgotPasswordForm.classList.add('hidden');
            authTitle.textContent = 'Sign In';
        }

        function showRegister() {
            registerForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
            forgotPasswordForm.classList.add('hidden');
            authTitle.textContent = 'Create Account';
        }

        function showForgotPassword() {
            forgotPasswordForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
            registerForm.classList.add('hidden');
            authTitle.textContent = 'Reset Password';
        }

        // Form Handlers
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = usersDB.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                closeAuthModal();
                initializeApp();
            } else {
                alert('Invalid email or password');
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            if (usersDB.some(u => u.email === email)) {
                alert('Email already registered');
                return;
            }
            
            const newUser = {
                id: usersDB.length + 1,
                name,
                email,
                password,
                phone,
                role: 'public',
                createdAt: new Date()
            };
            
            usersDB.push(newUser);
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            closeAuthModal();
            initializeApp();
        }

        function handleForgotPassword(e) {
            e.preventDefault();
            const email = document.getElementById('forgotEmail').value;
            
            if (usersDB.some(u => u.email === email)) {
                alert('Password reset link has been sent to your email');
                closeAuthModal();
            } else {
                alert('Email not found');
            }
        }

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            mobileMenuOpen = !mobileMenuOpen;
            if (mobileMenuOpen) {
                mobileMenu.classList.remove('hidden');
            } else {
                mobileMenu.classList.add('hidden');
            }
        }

        // Sidebar Toggle
        function toggleSidebar() {
            mobileSidebarOpen = !mobileSidebarOpen;
            if (mobileSidebarOpen) {
                mobileSidebar.classList.remove('-translate-x-full');
            } else {
                mobileSidebar.classList.add('-translate-x-full');
            }
        }

        // Profile Dropdown Toggle
        function toggleProfileDropdown() {
            profileDropdownOpen = !profileDropdownOpen;
            if (profileDropdownOpen) {
                profileDropdown.classList.remove('hidden');
            } else {
                profileDropdown.classList.add('hidden');
            }
        }

        // Logout
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            landingPage.classList.remove('hidden');
            appContainer.classList.add('hidden');
        }

        // Initialize App
        function initializeApp() {
            landingPage.classList.add('hidden');
            appContainer.classList.remove('hidden');
            
            // Update user info in UI
            userNameDisplay.textContent = currentUser.name;
            sidebarUserName.textContent = currentUser.name;
            sidebarUserRole.textContent = currentUser.role.charAt(0).toUpperCase() + currentUser.role.slice(1);
            
            // Load appropriate dashboard
            loadDashboard();
            
            // Load navigation based on role
            loadNavigation();
        }

        // Load Dashboard based on user role
        function loadDashboard() {
            if (currentUser.role === 'admin') {
                loadAdminDashboard();
            } else if (currentUser.role === 'agent') {
                loadAgentDashboard();
            } else {
                loadPublicDashboard();
            }
        }

        // Load Admin Dashboard
        function loadAdminDashboard() {
            mainContent.innerHTML = `
                <div class="px-4 py-6 sm:px-6 lg:px-8">
                    <div class="mb-8">
                        <h2 class="text-2xl font-bold text-gray-900">Admin Dashboard</h2>
                        <p class="mt-1 text-sm text-gray-600">Manage users, properties, and system settings</p>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8">
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-blue-500 rounded-md p-3">
                                        <i class="fas fa-users text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Total Users</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${usersDB.length}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-green-500 rounded-md p-3">
                                        <i class="fas fa-home text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Total Properties</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${propertiesDB.length}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-yellow-500 rounded-md p-3">
                                        <i class="fas fa-user-tie text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Agents</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${usersDB.filter(u => u.role === 'agent').length}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-purple-500 rounded-md p-3">
                                        <i class="fas fa-user-shield text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Admins</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${usersDB.filter(u => u.role === 'admin').length}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-medium text-gray-900">User Management</h3>
                            <button onclick="showAddUserModal()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                Add New User
                            </button>
                        </div>
                        
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Joined</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        ${usersDB.map(user => `
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center">
                                                        <div class="flex-shrink-0 h-10 w-10">
                                                            <img class="h-10 w-10 rounded-full" src="https://via.placeholder.com/40" alt="">
                                                        </div>
                                                        <div class="ml-4">
                                                            <div class="text-sm font-medium text-gray-900">${user.name}</div>
                                                            <div class="text-sm text-gray-500">${user.phone || 'N/A'}</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${user.email}</td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${user.role === 'admin' ? 'bg-purple-100 text-purple-800' : user.role === 'agent' ? 'bg-yellow-100 text-yellow-800' : 'bg-blue-100 text-blue-800'}">
                                                        ${user.role.charAt(0).toUpperCase() + user.role.slice(1)}
                                                    </span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${formatDate(user.createdAt)}</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                    <button onclick="editUser(${user.id})" class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                                    ${user.id !== currentUser.id ? `<button onclick="deleteUser(${user.id})" class="text-red-600 hover:text-red-900">Delete</button>` : ''}
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">Recent Properties</h3>
                            <div class="space-y-4">
                                ${propertiesDB.slice(0, 3).map(property => `
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0 h-16 w-16 rounded-md overflow-hidden">
                                            <img class="h-full w-full object-cover" src="${property.image}" alt="${property.title}">
                                        </div>
                                        <div class="ml-4">
                                            <h4 class="text-sm font-medium text-gray-900">${property.title}</h4>
                                            <p class="text-sm text-gray-500">${property.location}</p>
                                            <p class="text-sm font-semibold ${property.type === 'sale' ? 'text-green-600' : 'text-blue-600'}">
                                                ${property.type === 'sale' ? '$' + property.price.toLocaleString() : '$' + property.price.toLocaleString() + '/mo'}
                                            </p>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="mt-4 text-right">
                                <a href="#" class="text-sm font-medium text-blue-600 hover:text-blue-500">View all properties</a>
                            </div>
                        </div>
                        
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">System Statistics</h3>
                            <div class="chart-container">
                                <canvas id="statsChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Initialize chart
            setTimeout(() => {
                const ctx = document.getElementById('statsChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Users', 'Properties', 'Agents', 'Admins'],
                        datasets: [{
                            label: 'Count',
                            data: [
                                usersDB.length, 
                                propertiesDB.length, 
                                usersDB.filter(u => u.role === 'agent').length, 
                                usersDB.filter(u => u.role === 'admin').length
                            ],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(234, 179, 8, 0.7)',
                                'rgba(139, 92, 246, 0.7)'
                            ],
                            borderColor: [
                                'rgba(59, 130, 246, 1)',
                                'rgba(16, 185, 129, 1)',
                                'rgba(234, 179, 8, 1)',
                                'rgba(139, 92, 246, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }, 100);
        }

        // Load Agent Dashboard
        function loadAgentDashboard() {
            const agentLeads = leadsDB.filter(lead => lead.agentId === currentUser.id);
            const agentPayments = paymentsDB.filter(payment => payment.agentId === currentUser.id);
            const completedSales = 12; // This would come from DB in real app
            const revenue = 1250000; // This would come from DB in real app
            const target = 1500000; // This would come from DB in real app
            
            mainContent.innerHTML = `
                <div class="px-4 py-6 sm:px-6 lg:px-8">
                    <div class="mb-8">
                        <h2 class="text-2xl font-bold text-gray-900">Agent Dashboard</h2>
                        <p class="mt-1 text-sm text-gray-600">Welcome back, ${currentUser.name}. Here's your performance overview.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8">
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-blue-500 rounded-md p-3">
                                        <i class="fas fa-handshake text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Completed Sales</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${completedSales}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-green-500 rounded-md p-3">
                                        <i class="fas fa-dollar-sign text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Revenue Generated</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">$${(revenue / 1000000).toFixed(1)}M</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-yellow-500 rounded-md p-3">
                                        <i class="fas fa-bullseye text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Sales Target</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">$${(target / 1000000).toFixed(1)}M</div>
                                                <div class="ml-2 flex items-baseline text-sm font-semibold ${revenue >= target ? 'text-green-600' : 'text-red-600'}">
                                                    ${Math.round((revenue / target) * 100)}%
                                                </div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-purple-500 rounded-md p-3">
                                        <i class="fas fa-users text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Active Leads</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${agentLeads.length}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">Recent Leads</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Property</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        ${agentLeads.slice(0, 5).map(lead => {
                                            const property = propertiesDB.find(p => p.id === lead.propertyId);
                                            return `
                                                <tr>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="text-sm font-medium text-gray-900">${lead.name}</div>
                                                        <div class="text-sm text-gray-500">${lead.email}</div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${property ? property.title : 'N/A'}</td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(lead.status)}">
                                                            ${lead.status.charAt(0).toUpperCase() + lead.status.slice(1)}
                                                        </span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${formatDate(lead.date)}</td>
                                                </tr>
                                            `;
                                        }).join('')}
                                    </tbody>
                                </table>
                            </div>
                            <div class="mt-4 text-right">
                                <a href="#" class="text-sm font-medium text-blue-600 hover:text-blue-500">View all leads</a>
                            </div>
                        </div>
                        
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">Payment Tracking</h3>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Client</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Property</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        ${agentPayments.slice(0, 5).map(payment => {
                                            const client = usersDB.find(u => u.id === payment.clientId);
                                            const property = propertiesDB.find(p => p.id === payment.propertyId);
                                            return `
                                                <tr>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="text-sm font-medium text-gray-900">${client ? client.name : 'N/A'}</div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${property ? property.title : 'N/A'}</td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$${payment.amount.toLocaleString()}</td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${payment.status === 'completed' ? 'bg-green-100 text-green-800' : payment.status === 'partial' ? 'bg-yellow-100 text-yellow-800' : 'bg-blue-100 text-blue-800'}">
                                                            ${payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}
                                                        </span>
                                                    </td>
                                                </tr>
                                            `;
                                        }).join('')}
                                    </tbody>
                                </table>
                            </div>
                            <div class="mt-4 text-right">
                                <a href="#" class="text-sm font-medium text-blue-600 hover:text-blue-500">View all payments</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">Performance Overview</h3>
                            <div class="chart-container">
                                <canvas id="performanceChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-4">Recent Activities</h3>
                            <div class="space-y-4">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 bg-blue-100 rounded-full p-2">
                                        <i class="fas fa-home text-blue-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">New property listing added</p>
                                        <p class="text-sm text-gray-500">2 hours ago</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 bg-green-100 rounded-full p-2">
                                        <i class="fas fa-handshake text-green-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Sale completed for Waterfront Home</p>
                                        <p class="text-sm text-gray-500">1 day ago</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 bg-yellow-100 rounded-full p-2">
                                        <i class="fas fa-user text-yellow-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">New lead from John Smith</p>
                                        <p class="text-sm text-gray-500">2 days ago</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 bg-purple-100 rounded-full p-2">
                                        <i class="fas fa-calendar-check text-purple-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Viewing scheduled for Luxury Apartment</p>
                                        <p class="text-sm text-gray-500">3 days ago</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Initialize chart
            setTimeout(() => {
                const ctx = document.getElementById('performanceChart').getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'Sales',
                            data: [3, 5, 2, 4, 6, 7, 8],
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true
                        }, {
                            label: 'Revenue ($K)',
                            data: [120, 200, 150, 240, 300, 280, 350],
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }, 100);
        }

        // Load Public Dashboard
        function loadPublicDashboard() {
            const favoriteProperties = [1, 3]; // This would come from DB in real app
            const referralCode = generateReferralCode(currentUser.id);
            
            mainContent.innerHTML = `
                <div class="px-4 py-6 sm:px-6 lg:px-8">
                    <div class="mb-8">
                        <h2 class="text-2xl font-bold text-gray-900">Welcome, ${currentUser.name}</h2>
                        <p class="mt-1 text-sm text-gray-600">Browse properties and manage your account</p>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-8">
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 bg-blue-500 rounded-md p-3">
                                        <i class="fas fa-heart text-white text-xl"></i>
                                    </div>
                                    <div class="ml-5 w-0 flex-1">
                                        <dl>
                                            <dt class="text-sm font-medium text-gray-500 truncate">Favorite Properties</dt>
                                            <dd class="flex items-baseline">
                                                <div class="text-2xl font-semibold text-gray-900">${favoriteProperties.length}</div>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white overflow-hidden shadow rounded-lg">
                            <div class="px-4 py-5 sm:p-6">
                                <div class="flex items-center">
                                    <div class="
</body>
</html>